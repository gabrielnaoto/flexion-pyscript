<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>Flexion</title>

    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Flexion</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="index.html"
                >Home</a
              >
            </li>

            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Functions
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li>
                  <a
                    class="dropdown-item"
                    href="section_beams_dimensioning.html"
                    >Rectangular section beams dimensioning</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a class="dropdown-item disabled" href="#"
                    >Calculate radius</a
                  >
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </body>
  <main>
    <div class="container py-3">
      <h1 class="mb-3">Rectangular section beams dimensioning</h1>

      <div class="card p-3">
        <div class="container">
          <h3 class="mb-3">Please input:</h3>

          <div class="row">
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >fck</label
                >
                <select class="form-select" id="fck">
                  <option value="20" selected>20</option>
                  <option value="25">25</option>
                  <option value="30">30</option>
                  <option value="35">35</option>
                  <option value="40">40</option>
                  <option value="45">45</option>
                  <option value="50">50</option>
                  <option value="55">55</option>
                  <option value="60">60</option>
                  <option value="65">65</option>
                  <option value="70">70</option>
                  <option value="75">75</option>
                  <option value="80">80</option>
                  <option value="85">85</option>
                  <option value="90">90</option>
                </select>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >fyk</label
                >
                <select class="form-select" id="fyk">
                  <option value="20" selected>20</option>
                  <option value="50">50</option>
                  <option value="60">60</option>
                </select>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >Md</label
                >
                <input class="form-control" id="md" type="number" value="200"/>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >b</label
                >
                <input class="form-control" id="b" type="number" value="15"/>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >h</label
                >
                <input class="form-control" id="h" type="number" value="40"/>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >d</label
                >
                <input class="form-control" id="d" type="number" value="4" />
              </div>
            </div>
          </div>

          <button type="button" class="btn btn-primary" id="calculate" pys-onClick="run">
            Calculate
          </button>
        </div>
      </div>

      <div class="card p-3 mt-3">
        <div class="container">
          <h3 class="mb-3">Results</h3>

          <div class="row">
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >LN</label
                >
                <input class="form-control" id="ln" disabled="true" />
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >Domain</label
                >
                <input class="form-control" id="domain" disabled="true" />
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >As</label
                >
                <input class="form-control" id="as" disabled="true"/>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >Diameter</label
                >
                <select class="form-select" id="fck">
                  <option value="20" selected>20</option>
                  <option value="50">50</option>
                  <option value="60">60</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <py-env> 
    - paths: 
        - ./python/flexao_simples.py 
    </py-env>
    <py-script> 
from flexao_simples import ask_numeric_value, get_d, get_fcd, get_fyd, get_lam_alf, get_delta, get_raiz, get_ecu, get_eyd, get_x2lim, get_x3lim, get_xlim, get_dominio, area_aço

def run(*arg, **kwargs):
 
  bw = float(Element("b").element.value)
  h = float(Element("h").element.value)
  dl = float(Element("d").element.value)
  md = float(Element("md").element.value)
  fck = float(Element("fck").element.value)
  fyk = float(Element("fyk").element.value)

  # Extraindo o valor da LN
  texto, ln = get_raiz(h,bw,dl,md,fck)

  # Extraindo o domínio
  fyd = get_fyd(fyk)
  dominio = get_dominio(h,bw,dl,md,fck,fyd)
  if dominio == 'Armadura Dupla':
      ast, asc = arm_dupla(h,bw,dl,fck,fyk,md)
      ln = get_xlim(h,dl,fck)

      Element("ln").element.value = str(ln)
      Element("domain").element.value = str(dominio)
      Element("as").element.value = str(ast)
  else:
      texto, z, asi = area_aço(h,bw,dl,fck,fyk,md)

      Element("ln").element.value = str(ln)
      Element("domain").element.value = str(dominio)
      Element("as").element.value = str(asi)
</py-script>
</html>
